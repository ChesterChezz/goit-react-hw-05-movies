"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[160],{1454:function(e,t,a){a.d(t,{Z:function(){return o}});var n,r=a(5243),i=a(168),c=a(6444).ZP.div(n||(n=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),s=a(184),o=function(){return(0,s.jsx)(c,{children:(0,s.jsx)(r.W0,{height:70,width:70,radius:5,color:"#efa51b",ariaLabel:"ball-triangle-loading",wrapperClass:{},wrapperStyle:"",visible:!0})})}},4126:function(e,t,a){var n=a(1087),r=a(8796),i=a(7689),c=a(184);t.Z=function(e){var t=e.movieList,a=(0,i.TH)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("ul",{className:r.Z.list,children:t.map((function(e){var t=e.id,i=e.title;return(0,c.jsx)("li",{children:(0,c.jsx)(n.rU,{className:r.Z.li,to:"/movies/".concat(t),state:{from:a},children:i})},t)}))})})}},4160:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var n=a(9439),r=a(2791),i=a(7689),c=a(1087),s=a(5468),o="Search_searchForm__0FeD+",u="Search_input__PXR0c",l="Search_searchBtn__kEs6t",h=a(184),f=function(e){var t=e.handleSubmit,a=(e.handleSearchInputChange,e.searchText);return(0,h.jsxs)("form",{onSubmit:t,className:o,children:[(0,h.jsx)("label",{children:(0,h.jsx)("input",{className:u,value:a,name:"search",type:"text",autoComplete:"off"})}),(0,h.jsx)("button",{className:l,type:"submit",children:"Search"})]})},p=a(4126),d=a(1686),v=a.n(d),m=a(1454),_=function(){var e,t=(0,i.TH)(),a=(0,c.lr)(),o=(0,n.Z)(a,2),u=o[0],l=o[1],d=(0,r.useState)(!1),_=(0,n.Z)(d,2),g=_[0],x=_[1],b=(0,r.useState)([]),j=(0,n.Z)(b,2),y=j[0],Z=j[1],S=(0,r.useRef)(0),w=null!==(e=Number(u.get("page")))&&void 0!==e?e:0,k=u.get("search")||"";(0,r.useEffect)((function(){x(!0),(0,s.V)("/search/movie",w,k).then((function(e){try{if(200!==e.status)throw new Error(e.statusText);S.current=e.data.total_pages,Z(e.data.results)}catch(t){console.error(t),v().Notify.failure("Failed to fetch movie data.")}finally{x(!1)}}))}),[w,k]);var N=y.length?'Search "'.concat(k,'" (Page ').concat(w," of ").concat(S.current,")"):"No matches";return(0,h.jsxs)("div",{children:[g&&(0,h.jsx)(m.Z,{}),(0,h.jsx)(f,{handleSubmit:function(e){e.preventDefault();var t=e.target[0].value.trim();t?l({search:t,page:1}):v().Notify.info("The search bar cannot be empty. Please type any criteria in the search bar.")},searchText:k}),k&&(0,h.jsx)("h3",{children:N}),0!==y.length&&(0,h.jsx)(p.Z,{location:t,movieList:y,paginationPage:w,totalPages:S.current})]})}},5468:function(e,t,a){a.d(t,{V:function(){return o}});var n=a(5861),r=a(7757),i=a.n(r),c=a(1243),s=a(9014);function o(e){return u.apply(this,arguments)}function u(){return u=(0,n.Z)(i().mark((function e(t){var a,n,r,o,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:1,n=u.length>2&&void 0!==u[2]?u[2]:"",e.prev=2,r="https://api.themoviedb.org/3"+t+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),n&&(r+="&query=".concat(n.trim())),a&&(r+="&page=".concat(a)),e.next=10,c.Z.get(r);case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(2),s.Am.error(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,14]])}))),u.apply(this,arguments)}},8796:function(e,t){t.Z={buttonWrap:"MovieList_buttonWrap__bPcX1",list:"MovieList_list__yjDCC",li:"MovieList_li__kXkJl"}}}]);
//# sourceMappingURL=160.0ac523cd.chunk.js.map