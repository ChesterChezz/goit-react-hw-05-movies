"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[160],{1454:function(t,e,n){n.d(e,{Z:function(){return o}});var a,r=n(5243),i=n(168),c=n(6444).ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),s=n(184),o=function(){return(0,s.jsx)(c,{children:(0,s.jsx)(r.W0,{height:70,width:70,radius:5,color:"#efa51b",ariaLabel:"ball-triangle-loading",wrapperClass:{},wrapperStyle:"",visible:!0})})}},9398:function(t,e,n){n.d(e,{Z:function(){return l}});var a=n(9439),r="Button_button__wiIYs",i="Button_buttonWrap__ZRtPo",c=n(184),s=function(t){var e=t.btnName,n=t.onClick;return(0,c.jsx)("div",{className:i,children:(0,c.jsx)("button",{className:r,onClick:n,type:"button",children:e})})},o=n(8796),u=n(1087),l=function(t){var e=t.paginationPage,n=t.totalPages,r=t.movieList,i=(0,u.lr)(),l=(0,a.Z)(i,2)[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:o.Z.buttonWrap,children:[0!==r.length&&e>1&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s,{btnName:"Start page",onClick:function(){l({page:e=1})}}),(0,c.jsx)(s,{btnName:"Previous page",onClick:function(){l({page:e-=1})}})]}),0!==r.length&&e<n&&(0,c.jsx)(s,{btnName:"Next page",onClick:function(){l({page:e+=1})}})]})})}},4126:function(t,e,n){var a=n(1087),r=n(8796),i=n(7689),c=n(184);e.Z=function(t){var e=t.movieList,n=(0,i.TH)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("ul",{className:r.Z.list,children:e.map((function(t){var e=t.id,i=t.title;return(0,c.jsx)("li",{children:(0,c.jsx)(a.rU,{className:r.Z.li,to:"/movies/".concat(e),state:{from:n},children:i})},e)}))})})}},4160:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var a=n(9439),r=n(2791),i=n(1087),c=n(5468),s="Search_searchForm__0FeD+",o="Search_input__PXR0c",u="Search_searchBtn__kEs6t",l=n(1686),h=n.n(l),f=n(184),p=function(t){var e=t.handleSubmit,n=(0,r.useState)(""),i=(0,a.Z)(n,2),c=i[0],l=i[1];return(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c?(e(c.trim()),l("")):h().Notify.info("The search bar cannot be empty. Please type any criteria in the search bar.")},className:s,children:[(0,f.jsx)("label",{children:(0,f.jsx)("input",{className:o,value:c,name:"search",type:"text",autoComplete:"off",onChange:function(t){var e=t.target.value;l(e)}})}),(0,f.jsx)("button",{className:u,type:"submit",children:"Search"})]})},d=n(4126),m=n(1454),v=n(9398),g=function(){var t,e,n=(0,i.lr)(),s=(0,a.Z)(n,2),o=s[0],u=s[1],l=(0,r.useState)(!1),g=(0,a.Z)(l,2),_=g[0],b=g[1],x=(0,r.useState)([]),j=(0,a.Z)(x,2),Z=j[0],y=j[1],N=(0,r.useRef)(0),k=null!==(t=Number(o.get("page")))&&void 0!==t?t:0,S=(0,r.useState)(null!==(e=o.get("search"))&&void 0!==e?e:""),C=(0,a.Z)(S,1)[0];(0,r.useEffect)((function(){b(!0),(0,c.V)("/search/movie",k,C).then((function(t){try{N.current=t.data.total_pages,y(t.data.results)}catch(e){console.error(e),h().Notify.failure("Failed to fetch movie data.")}finally{b(!1)}}))}),[k,C]);var P=Z.length?'Search "'.concat(C,'" (Page ').concat(k," of ").concat(N.current,")"):"No matches";return(0,f.jsxs)("div",{children:[_&&(0,f.jsx)(m.Z,{}),(0,f.jsx)(p,{handleSubmit:function(t){u({search:t,page:1})}}),C&&(0,f.jsx)("h3",{children:P}),0!==Z.length&&(0,f.jsx)(d.Z,{movieList:Z}),(0,f.jsx)(v.Z,{paginationPage:k,totalPages:N.current,movieList:Z})]})}},5468:function(t,e,n){n.d(e,{V:function(){return o}});var a=n(5861),r=n(7757),i=n.n(r),c=n(1243),s=n(9014);function o(t){return u.apply(this,arguments)}function u(){return u=(0,a.Z)(i().mark((function t(e){var n,a,r,o,u=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:"",t.prev=2,r="https://api.themoviedb.org/3"+e+"?api_key=".concat("6dfafd08c001fd3262dc3fe23504fa05"),a&&(r+="&query=".concat(a.trim())),n&&(r+="&page=".concat(n)),t.next=10,c.Z.get(r);case 10:return o=t.sent,t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(2),s.Am.error(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[2,14]])}))),u.apply(this,arguments)}},8796:function(t,e){e.Z={buttonWrap:"MovieList_buttonWrap__bPcX1",list:"MovieList_list__yjDCC",li:"MovieList_li__kXkJl"}}}]);
//# sourceMappingURL=160.f6d2e96a.chunk.js.map