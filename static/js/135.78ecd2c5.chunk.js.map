{"version":3,"file":"static/js/135.78ecd2c5.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","sevices/library.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const LoaderContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import { BallTriangle } from 'react-loader-spinner';\nimport { LoaderContainer } from './Loader.styled';\n\nconst Loader = () => {\n  return (\n    <LoaderContainer>\n      <BallTriangle\n        height={70}\n        width={70}\n        radius={5}\n        color=\"#efa51b\"\n        ariaLabel=\"ball-triangle-loading\"\n        wrapperClass={{}}\n        wrapperStyle=\"\"\n        visible={true}\n      />\n    </LoaderContainer>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"linkAdditional\":\"MovieDetails_linkAdditional__bvHUj\",\"movieCard\":\"MovieDetails_movieCard__UPRqg\",\"additionalsText\":\"MovieDetails_additionalsText__ZKcqb\",\"addtionals\":\"MovieDetails_addtionals__AVYTi\",\"additionalsList\":\"MovieDetails_additionalsList__lg322\",\"additionalsLink\":\"MovieDetails_additionalsLink__x1TEC\",\"li\":\"MovieDetails_li__hiRx4\"};","import { Suspense, useEffect, useState } from 'react';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { getDataByAxios } from 'sevices/library';\nimport css from './MovieDetails.module.css';\nimport Loader from 'components/Loader/Loader';\nimport defaultImg from '../../images/image.webp';\n\nconst MovieDetails = () => {\n  const [movieData, setMovieData] = useState(null);\n  const { movieId } = useParams();\n  const BASE_IMAGE_ENDPOINT = 'https://image.tmdb.org/t/p/w500';\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const backLink = location.state?.from ?? '/';\n\n  useEffect(() => {\n    setIsLoading(true);\n    getDataByAxios(`/movie/${movieId}`, 0, '')\n      .then(resp => {\n        setIsLoading(false);\n        if (resp.status !== 200) {\n          throw new Error(resp.statusText);\n        } else {\n          setMovieData(resp.data);\n        }\n      })\n      .finally(setIsLoading(false));\n  }, [movieId]);\n  if (!movieData) {\n    return;\n  }\n  const {\n    genres,\n    original_title,\n    overview,\n    poster_path,\n    release_date,\n    vote_average,\n  } = movieData;\n\n  const userScr = ((vote_average / 10) * 100).toFixed(0);\n\n  const pathToPoster = BASE_IMAGE_ENDPOINT + poster_path;\n  const imgSrc = poster_path ? pathToPoster : defaultImg;\n  // console.log(imgSrc);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <Link className={css.linkAdditional} to={backLink}>\n        &#8592; Go back\n      </Link>\n      <div className={css.movieCard}>\n        <img src={imgSrc} alt=\"Poster\" width=\"250\" />\n        <div>\n          <h2>\n            {original_title} ({release_date && release_date.slice(0, 4)})\n          </h2>\n          <p className={css.descrText}>User Score: {userScr}%</p>\n          <h3>Owerview</h3>\n          <p className={css.descrText}>{overview}</p>\n          <h3>Genres</h3>\n          {genres && (\n            <p className={css.descrText}>\n              {genres.map(({ name }) => name).join(',  ')}\n            </p>\n          )}\n        </div>\n      </div>\n      <div className={css.addtionals}>\n        <p className={css.additionalsText}>Additional information</p>\n        <ul className={css.additionalsList}>\n          <li className={css.additionalsLink}>\n            <Link className={css.li} to=\"cast\" state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li className={css.additionalsLink}>\n            <Link className={css.li} to=\"reviews\" state={location.state}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { toast } from 'react-hot-toast';\n\nexport async function getDataByAxios(\n  ENDPOINT,\n  paginationPage = 1,\n  searchText = ''\n) {\n  try {\n    const BASE_URL = `https://api.themoviedb.org/3`;\n    const MY_THEMOVIEDB_API_KEY = '6dfafd08c001fd3262dc3fe23504fa05';\n    let URL = BASE_URL + ENDPOINT + `?api_key=${MY_THEMOVIEDB_API_KEY}`;\n\n    if (searchText) {\n      URL = URL + `&query=${searchText.trim()}`;\n    }\n    if (paginationPage) {\n      URL = URL + `&page=${paginationPage}`;\n    }\n    const resp = await axios.get(URL);\n    return resp;\n  } catch (error) {\n    toast.error(error.message);\n  }\n}\n"],"names":["LoaderContainer","styled","height","width","radius","color","ariaLabel","wrapperClass","wrapperStyle","visible","useState","movieData","setMovieData","movieId","useParams","isLoading","setIsLoading","location","useLocation","backLink","state","from","useEffect","getDataByAxios","then","resp","status","Error","statusText","data","finally","genres","original_title","overview","poster_path","release_date","userScr","vote_average","toFixed","imgSrc","defaultImg","Loader","className","css","to","src","alt","slice","map","name","join","Suspense","ENDPOINT","paginationPage","searchText","URL","trim","axios","toast","message"],"sourceRoot":""}